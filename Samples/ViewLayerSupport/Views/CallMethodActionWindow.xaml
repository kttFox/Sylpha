<Window x:Class="ViewLayerSupport.Views.CallMethodActionWindow"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
		xmlns:s="http://schemas.sylpha.com/wpf/mvvm"
		xmlns:v="clr-namespace:ViewLayerSupport.Views"
		xmlns:vm="clr-namespace:ViewLayerSupport.ViewModels"
		Title="CallMethodActionWindow"
		Width="600"
		Height="520">

	<Window.DataContext>
		<vm:CallMethodActionWindowViewModel />
	</Window.DataContext>

	<i:Interaction.Triggers>
		<i:EventTrigger EventName="ContentRendered">
			<s:CallMethodAction MethodName="Initialize"
								MethodTarget="{Binding}" />
		</i:EventTrigger>

		<s:MessageTrigger Messenger="{Binding Messenger}">
			<s:CallMethodAction />
		</s:MessageTrigger>

		<i:EventTrigger EventName="Closed">
			<s:DataContextDisposeAction />
		</i:EventTrigger>
	</i:Interaction.Triggers>
	<StackPanel Margin="10">
		<StackPanel.Resources>
			<Style TargetType="Button">
				<Setter Property="Height" Value="30" />
				<Setter Property="Padding" Value="10, 0" />
				<Setter Property="Margin" Value="5" />
				<Setter Property="HorizontalAlignment" Value="Left" />
			</Style>
		</StackPanel.Resources>

		<StackPanel>
			<Button Content="Call ViewModel method - ButtonClick">
				<i:Interaction.Triggers>
					<i:EventTrigger EventName="Click">
						<s:CallMethodAction MethodName="ButtonClick"
											MethodTarget="{Binding}" />
					</i:EventTrigger>
				</i:Interaction.Triggers>
			</Button>

			<Button Content="Call ViewModel method - ButtonClick with param">
				<i:Interaction.Triggers>
					<i:EventTrigger EventName="Click">
						<s:CallMethodAction MethodName="ButtonClick"
											MethodParameter="TextParam"
											MethodTarget="{Binding}" />
					</i:EventTrigger>
				</i:Interaction.Triggers>
			</Button>
			<Button Content="Call ViewModel method - ButtonClick( null )">
				<i:Interaction.Triggers>
					<i:EventTrigger EventName="Click">
						<s:CallMethodAction xmlns:sys="clr-namespace:System;assembly=mscorlib"
											MethodName="ButtonClick"
											MethodParameter="{x:Null}"
											MethodParameterType="{x:Type sys:String}"
											MethodTarget="{Binding .}" />
					</i:EventTrigger>
				</i:Interaction.Triggers>
			</Button>

			<Button Margin="5,10,5,5"
					Content="Call View method - ButtonClick">
				<i:Interaction.Triggers>
					<i:EventTrigger EventName="Click">
						<s:CallMethodAction MethodName="ButtonClick"
											MethodTarget="{Binding .,
																   RelativeSource={RelativeSource AncestorType=Window}}" />
					</i:EventTrigger>
				</i:Interaction.Triggers>
			</Button>

			<Button Content="Call View method - ButtonClick with param">
				<i:Interaction.Triggers>
					<i:EventTrigger EventName="Click">
						<s:CallMethodAction MethodName="ButtonClick"
											MethodParameter="TextParam"
											MethodTarget="{Binding .,
																   RelativeSource={RelativeSource AncestorType=Window}}" />
					</i:EventTrigger>
				</i:Interaction.Triggers>
			</Button>

			<Button Content="Call View method - ButtonClick( null )">
				<i:Interaction.Triggers>
					<i:EventTrigger EventName="Click">
						<s:CallMethodAction xmlns:sys="clr-namespace:System;assembly=mscorlib"
											MethodName="ButtonClick"
											MethodParameter="{x:Null}"
											MethodParameterType="{x:Type sys:String}"
											MethodTarget="{Binding .,
																   RelativeSource={RelativeSource AncestorType=Window}}" />
					</i:EventTrigger>
				</i:Interaction.Triggers>
			</Button>

			<Button Margin="5,10,5,5"
					Command="{Binding ButtonClickCommand}"
					Content="Messenger - Command (Call View method)" />
			<Button Command="{Binding ButtonClickCommand2}"
					CommandParameter="CommandParam"
					Content="Messenger - Command with param (Call View method)" />
			<Button Command="{Binding ButtonClickCommand3}"
					Content="Messenger - Command with return (Call View method)" />
			<Button Command="{Binding ButtonClickCommand4}"
					CommandParameter="CommandParam"
					Content="Messenger - Command with return and param (Call View method)" />
		</StackPanel>

		<TextBox Margin="10"
				 FontSize="18"
				 IsReadOnly="True"
				 Text="{Binding Text}" />
	</StackPanel>
</Window>