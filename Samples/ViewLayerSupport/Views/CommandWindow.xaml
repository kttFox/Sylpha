<Window x:Class="ViewLayerSupport.Views.CommandWindow"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
		xmlns:s="http://schemas.sylpha.com/wpf/mvvm"
		xmlns:vm="clr-namespace:ViewLayerSupport.ViewModels"
		Title="CommandWindow"
		Width="600"
		Height="420">

	<Window.DataContext>
		<vm:CommandWindowViewModel />
	</Window.DataContext>

	<i:Interaction.Triggers>
		<i:EventTrigger EventName="ContentRendered">
			<s:CallMethodAction MethodName="Initialize"
								 MethodTarget="{Binding}" />
		</i:EventTrigger>

		<s:MessageTrigger Messenger="{Binding Messenger}">
			<s:CallMethodAction />
		</s:MessageTrigger>

		<i:EventTrigger EventName="Closed">
			<s:DataContextDisposeAction />
		</i:EventTrigger>
	</i:Interaction.Triggers>
	
	<StackPanel Margin="10">
		<StackPanel.Resources>
			<Style TargetType="Button">
				<Setter Property="Height" Value="30" />
				<Setter Property="Padding" Value="10, 0" />
				<Setter Property="Margin" Value="5" />
				<Setter Property="HorizontalAlignment" Value="Left" />
			</Style>
		</StackPanel.Resources>

		<StackPanel>
			<CheckBox Margin="5"
					  Content="Command1 Enabled"
					  IsChecked="{Binding Command1Flag}" />
			<Button Command="{Binding Command1}"
					Content="Command1" />

			<CheckBox Margin="5"
					  Content="Command2 Enabled"
					  IsChecked="{Binding Command2Flag}" />
			<Button Command="{Binding Command2}"
					CommandParameter="Command2 Clicked"
					Content="Command2" />

			<TextBox Height="20"
					 Margin="0,5,0,0"
					 IsReadOnly="True"
					 Text="{Binding Text}" />
		</StackPanel>
	</StackPanel>
</Window>